# Get notification of activity in another window
setw -g monitor-activity on
set -g visual-activity on

# UTF-8
setw -g utf8 on
set-window-option -g utf8 on
set -g status-utf8 on

# Use Alt-arrow keys without prefix key to switch panes
bind -n M-Left select-pane -L
bind -n M-Right select-pane -R
bind -n M-Up select-pane -U
bind -n M-Down select-pane -D

# Use Alt-Shift J/K to move through windows
bind -n M-J next-window
bind -n M-K previous-window

# Sessions
bind P source-file ~/.tmux/pdev

# Act like GNU screen
unbind C-b
set -g prefix `
bind ` send-prefix

# look good
set -g default-terminal "screen-256color"

# fix scrolling
set -g terminal-overrides 'xterm*:smcup@:rmcup@'

# Create non-login shells by default
set -g default-command "$SHELL -i"

# Extend history limit
set -g history-limit 99999

# First terminal is 1, not 0
set -g base-index 1

# Timeout for pane numbers
set -g display-panes-time 2500

# Use r to reload from tmux.conf
bind r source-file ~/.tmux.conf \; display-message "Config Reloaded!"

# Prompt for hostname and create window to it
bind-key S command-prompt -p ssh: "new-window -n %1 'ssh %1'"

# Prompt for session and attach to it:
bind-key s choose-session

bind P swap-window -t -1
bind N swap-window -t +1

bind-key H command-prompt -p 'save history to filename:' -I '~/tmux.history' 'capture-pane -S -32768 ; save-buffer %1 ; delete-buffer'

# Switch between the last window quickly
bind-key \; last-window

# Synchronize two panes
#bind s set -g synchronize-panes

# Just click it
set -g mouse-select-pane on
set -g mouse-select-window on
set -g mouse-resize-pane on

# Scroll your way into copy mode (scrollback buffer)
# and select text for copying with the mouse
setw -g mode-mouse on

# Disable mouse-utf8 for terminals that don't support "utf8 mouse"
#set mouse-utf8 off

setw -g mode-keys vi
unbind-key h
bind h select-pane -L
unbind-key j
bind j select-pane -D
unbind-key k
bind k select-pane -U
unbind-key l
bind l select-pane -R

# Set status background and foreground colours, along with other text settings
set -g status-fg white
set -g status-bg colour234
set -g window-status-activity-attr bold
set -g pane-border-fg colour245
set -g pane-active-border-fg colour39
set -g message-fg colour16
set -g message-bg colour221
set -g message-attr bold
set -g status-left-length 32
set -g status-right-length 150

# set the formatting of the status line and of the window names
# #S - session name, #h hostname (no domain), #I current window index, #W current window name
set -g status-left '#[fg=colour148,bold]#h:#S#[default] -'
set -g status-right '#[fg=colour148,nobold]%Y-%m-%d %H:%M'
set -g window-status-format "#[fg=white,bg=colour234] #I #W "
set -g window-status-current-format "#[fg=colour234,bg=colour148]#[fg=colour232,bg=colour148,noreverse,bold] #I #W #[fg=colour148,bg=colour234,nobold]"

unbind +
bind + \
  new-window -d -n tmux-zoom 'clear && echo TMUX ZOOM && read' \;\
  swap-pane -s tmux-zoom.0 \;\
  select-window -t tmux-zoom

unbind -
bind - \
  last-window \;\
  swap-pane -s tmux-zoom.0 \;\
  kill-window -t tmux-zoom

