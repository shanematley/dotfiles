{
	"CreationDate": 504914603.047044,
	"UID": "DFEF69FC-A9D8-45FB-811D-F60C8BFEFCF8",
	"Name": "w: Learn Anything",
	"Triggers": [],
	"ModificationDate": 568500030.203293,
	"Actions": [
		{
			"MacroActionType": "IfThenElse",
			"ElseActions": [
				{
					"MacroActionType": "IfThenElse",
					"ElseActions": [
						{
							"MacroActionType": "ExecuteAppleScript",
							"IncludedVariables": [
								"9999"
							],
							"TrimResults": true,
							"StopOnFailure": false,
							"IncludeStdErr": true,
							"ActionUID": 892,
							"UseText": true,
							"TrimResultsNew": true,
							"TimeOutAbortsMacro": true,
							"Path": "",
							"DisplayKind": "None",
							"HonourFailureSettings": true,
							"Text": "------------------------------------------------------------------------------\r# Auth: Christopher Stone\r# dCre: 2017/01/06 19:04\r# dMod: 2017/03/06 17:40\r# Appl: Safari\r# Task: Serially switch between tabs having the same domain (or other filter text in the URL) in the front window.\r#     : 2017/03/06 – Now opens a new tab if the urlFilterText isn't found.\r# Libs: None\r# Osax: None\r# Tags: @Applescript, @Script, @Safari, @Serially, @Switch, @Tabs, @Domain, @Filter, @Front, @Window\r# Vers: 2.0\r------------------------------------------------------------------------------\r\rset urlFilterText to \"https://learn-anything\"\rset urlToFetch to \"https://learn-anything.xyz\"\r\rtell application \"Safari\"\r\ttell front window\r\t\tset filteredTabIndexList to index of tabs where its URL contains urlFilterText\r\t\tset currentTabIndex to index of current tab\r\t\t\r\t\tif filteredTabIndexList = {} then -- New\r\t\t\t\r\t\t\tset tabURL to URL of current tab\r\t\t\t\r\t\t\ttry\r\t\t\t\ttabURL -- will be undefine if blank\r\t\t\t\tmake new tab at end of tabs with properties {URL:urlToFetch}\r\t\t\t\tset current tab to last tab\r\t\t\ton error\r\t\t\t\t# Tab is blank, so we'll just use it.\r\t\t\t\tset its current tab's URL to urlToFetch\r\t\t\tend try\r\t\t\t\r\t\t\treturn\r\t\t\t\r\t\tend if\r\t\t\r\t\tif currentTabIndex is in filteredTabIndexList and currentTabIndex ≠ (last item of filteredTabIndexList) then\r\t\t\tset listItemOffset to getListItemOffset(filteredTabIndexList, currentTabIndex) of me\r\t\t\tset current tab to tab (item (listItemOffset + 1) of filteredTabIndexList)\r\t\telse\r\t\t\tset current tab to tab (item 1 of filteredTabIndexList)\r\t\tend if\r\t\t\r\tend tell\rend tell\r\r------------------------------------------------------------------------------\r--» HANDLERS\r------------------------------------------------------------------------------\ron getListItemOffset(theList, listItemValue)\r\tif listItemValue is not in theList then error \"getListItemOffset():  “listItemValue” is not in “theList”!\"\r\trepeat with listItemNum from 1 to (length of theList)\r\t\tif (item listItemNum of theList) = listItemValue then\r\t\t\treturn listItemNum\r\t\tend if\r\tend repeat\rend getListItemOffset\r------------------------------------------------------------------------------",
							"NotifyOnFailure": false
						},
						{
							"MacroActionType": "SimulateKeystroke",
							"ActionUID": 893,
							"ReleaseAll": false,
							"TargetApplication": {},
							"TargetingType": "Front",
							"KeyCode": 9,
							"Modifiers": 0
						}
					],
					"Conditions": {
						"ConditionListMatch": "All",
						"ConditionList": [
							{
								"ConditionType": "Text",
								"TextValue": "learn-anything.xyz",
								"Text": "%SafariURL%\n",
								"TextConditionType": "Contains"
							}
						]
					},
					"ThenActions": [
						{
							"MacroActionType": "SimulateKeystroke",
							"ActionUID": 890,
							"ReleaseAll": false,
							"TargetApplication": {},
							"TargetingType": "Front",
							"KeyCode": 53,
							"Modifiers": 0
						},
						{
							"MacroActionType": "SimulateKeystroke",
							"ActionUID": 891,
							"ReleaseAll": false,
							"TargetApplication": {},
							"TargetingType": "Front",
							"KeyCode": 2,
							"Modifiers": 0
						}
					],
					"TimeOutAbortsMacro": true,
					"ActionUID": 889
				}
			],
			"Conditions": {
				"ConditionListMatch": "All",
				"ConditionList": [
					{
						"Application": {
							"BundleIdentifier": "com.apple.Safari",
							"Name": "Safari",
							"NewFile": "/Applications/Safari.app"
						},
						"ApplicationConditionType": "NotActive",
						"ConditionType": "Application"
					}
				]
			},
			"ThenActions": [
				{
					"MacroActionType": "ActivateApplication",
					"ActionUID": 885,
					"ReopenWindows": false,
					"AllWindows": true,
					"TimeOutAbortsMacro": true,
					"AlreadyActivatedActionType": "Normal",
					"Application": {
						"BundleIdentifier": "com.apple.Safari",
						"Name": "Safari",
						"NewFile": "/Applications/Safari.app"
					}
				},
				{
					"MacroActionType": "IfThenElse",
					"ElseActions": [
						{
							"MacroActionType": "ExecuteAppleScript",
							"IncludedVariables": [
								"9999"
							],
							"TrimResults": true,
							"StopOnFailure": false,
							"IncludeStdErr": true,
							"ActionUID": 887,
							"UseText": true,
							"TrimResultsNew": true,
							"TimeOutAbortsMacro": true,
							"Path": "",
							"DisplayKind": "None",
							"HonourFailureSettings": true,
							"Text": "------------------------------------------------------------------------------\r# Auth: Christopher Stone\r# dCre: 2017/01/06 19:04\r# dMod: 2017/03/06 17:40\r# Appl: Safari\r# Task: Serially switch between tabs having the same domain (or other filter text in the URL) in the front window.\r#     : 2017/03/06 – Now opens a new tab if the urlFilterText isn't found.\r# Libs: None\r# Osax: None\r# Tags: @Applescript, @Script, @Safari, @Serially, @Switch, @Tabs, @Domain, @Filter, @Front, @Window\r# Vers: 2.0\r------------------------------------------------------------------------------\r\rset urlFilterText to \"https://learn-anything\"\rset urlToFetch to \"https://learn-anything.xyz\"\r\rtell application \"Safari\"\r\ttell front window\r\t\tset filteredTabIndexList to index of tabs where its URL contains urlFilterText\r\t\tset currentTabIndex to index of current tab\r\t\t\r\t\tif filteredTabIndexList = {} then -- New\r\t\t\t\r\t\t\tset tabURL to URL of current tab\r\t\t\t\r\t\t\ttry\r\t\t\t\ttabURL -- will be undefine if blank\r\t\t\t\tmake new tab at end of tabs with properties {URL:urlToFetch}\r\t\t\t\tset current tab to last tab\r\t\t\ton error\r\t\t\t\t# Tab is blank, so we'll just use it.\r\t\t\t\tset its current tab's URL to urlToFetch\r\t\t\tend try\r\t\t\t\r\t\t\treturn\r\t\t\t\r\t\tend if\r\t\t\r\t\tif currentTabIndex is in filteredTabIndexList and currentTabIndex ≠ (last item of filteredTabIndexList) then\r\t\t\tset listItemOffset to getListItemOffset(filteredTabIndexList, currentTabIndex) of me\r\t\t\tset current tab to tab (item (listItemOffset + 1) of filteredTabIndexList)\r\t\telse\r\t\t\tset current tab to tab (item 1 of filteredTabIndexList)\r\t\tend if\r\t\t\r\tend tell\rend tell\r\r------------------------------------------------------------------------------\r--» HANDLERS\r------------------------------------------------------------------------------\ron getListItemOffset(theList, listItemValue)\r\tif listItemValue is not in theList then error \"getListItemOffset():  “listItemValue” is not in “theList”!\"\r\trepeat with listItemNum from 1 to (length of theList)\r\t\tif (item listItemNum of theList) = listItemValue then\r\t\t\treturn listItemNum\r\t\tend if\r\tend repeat\rend getListItemOffset\r------------------------------------------------------------------------------",
							"NotifyOnFailure": false
						},
						{
							"MacroActionType": "SimulateKeystroke",
							"ActionUID": 888,
							"ReleaseAll": false,
							"TargetApplication": {},
							"TargetingType": "Front",
							"KeyCode": 9,
							"Modifiers": 0
						}
					],
					"Conditions": {
						"ConditionListMatch": "All",
						"ConditionList": [
							{
								"ConditionType": "Text",
								"TextValue": "learn-anything.xyz",
								"Text": "%SafariURL%\n",
								"TextConditionType": "Contains"
							}
						]
					},
					"ThenActions": [],
					"TimeOutAbortsMacro": true,
					"ActionUID": 886
				}
			],
			"TimeOutAbortsMacro": true,
			"ActionUID": 884
		}
	]
}